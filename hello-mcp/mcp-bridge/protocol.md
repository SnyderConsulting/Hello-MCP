# MCP File Bridge Protocol (v0)

This folder holds small helpers so ChatGPT can reliably move files between ChatGPT and the Runpod FS via existing MCP tools (no server changes).

## Directories
- inbox/    — files ChatGPT pushed *to* Runpod.
- outbox/   — files ChatGPT pulled *from* Runpod (for bookkeeping only).
- uploads/tmp/ — temporary chunk storage when large file push is needed.

## Push (ChatGPT → Runpod)
1. For small files (≤ a few MB) ChatGPT calls `write_file(path, text|base64_bytes)`.
2. For large files, ChatGPT writes parts to `uploads/tmp/<upload_id>/part.00000`, `part.00001`, ...
3. When exec is available, ChatGPT runs `ops.sh assemble <upload_id> <target_path> [--sha256 HEX]` which concatenates parts and verifies checksum.

## Pull (Runpod → ChatGPT)
1. ChatGPT calls `stat(path)` to get size and `read_file(path, offset, max_bytes)` in a loop.
2. Once local chunks are complete, ChatGPT offers the user a downloadable file from its sandbox.

## Integrity
- SHA-256 for whole file verification.
- Per-part MD5 optional.

## Cleanup
- `ops.sh clean <upload_id>` removes temporary parts.

This doc was generated by ChatGPT.